<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Jekyll v{{ jekyll.version }}" />
    <meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}" />
    <meta name="author" content="{% if page.author %}{{ page.author }}{% else %}{{ site.author }}{% endif %}" />
    <meta property="og:locale" content="en" />
    <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}" />
    <meta property="og:description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}" />
    <link rel="canonical" href="{{ page.url | replace:'.html','' | prepend: site.baseurl | prepend: site.url }}" />
    <meta property="og:url" content="{{ page.url | replace:'.html','' | prepend: site.baseurl | prepend: site.url }}" />
    <meta property="og:site_name" content="{{ site.title }}" />
    {% if page.layout == 'post' %}
    <meta property="og:type" content="article" />
    <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}" />
    {% else %}
    <meta property="og:type" content="website" />
    {% endif %}
    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}" />
    <script type="application/ld+json">
        {
            "@context":"https://schema.org",
            "@type":"{% if page.layout == 'post' %}BlogPosting{% else %}WebSite{% endif %}",
            "author":{
                "@type":"Person",
                "name":"{{ site.author }}",
                "url":"{{ site.url | append: site.baseurl }}"
            },
            "description":"{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}",
            "headline":"{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}",
            {% if page.layout == 'post' %}
            "dateModified":"{{ page.last_modified_at | date_to_xmlschema }}",
            "datePublished":"{{ page.date | date_to_xmlschema }}",
            "mainEntityOfPage":{
                "@type":"WebPage",
                "@id":"{{ page.url | replace:'.html','' | prepend: site.baseurl | prepend: site.url }}"
            },
            {% endif %}
            "name":"{{ site.title }}",
            "url":"{{ site.url | append: site.baseurl }}/"
        }
    </script>
    <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>
    <link href="/icon.png" rel="shortcut icon" type="image/png" sizes="128x128" media="(prefers-color-scheme: light)">
    <link href="/icon.png" rel="shortcut icon" type="image/png" sizes="128x128" media="(prefers-color-scheme: dark)">
    <link rel="alternate" type="application/atom+xml" title="{{ site.title }}" href="{{ "/atom.xml" | prepend: site.baseurl | prepend: site.url }}">
    <link rel="alternate" type="application/json" title="{{ site.title }}" href="{{ "/feed.json" | prepend: site.baseurl | prepend: site.url }}" />
    <link rel="stylesheet" href="{{ "/css/style.css" | prepend: site.baseurl }}">
    <link rel="sitemap" type="application/xml" title="sitemap" href="{{ "/sitemap.xml" | prepend: site.baseurl | prepend: site.url }}" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KZJB8RH97S"></script>
    <script src="{{ "/js/analytics.js" | prepend: site.baseurl }}"></script>
    <script src="https://tarptaeya.github.io/repo-card/repo-card.js"></script>
    <script defer src="https://cloud.umami.is/script.js" data-website-id="aac76813-8785-4a60-a221-c7d3e327d967"></script>
    <script src="{{ "/js/mathjax-config.js" | prepend: site.baseurl }}"></script>
    <script type="text/javascript" async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script>
    <script src="{{ "/js/copyCode.js" | prepend: site.baseurl }}"></script>
</head>
<body>
    <main>
        {% include header.html %} {# 引入导航栏 #}

        {{ content }} {# 这是文章的具体内容将被注入的地方 #}

    </main>
    {# medium-zoom 和 Valine 初始化脚本 #}
    <script>
        mediumZoom('.zoomable'); // 只对 class 为 zoomable 的图片启用
    </script>
    <script>
        new Valine({
            el: '#vcomments',
            appId: 'deLvV5QEsweui1qehWIOKa6h-gzGzoHsz',
            appKey: '5rlOhiv7dVJoeVuohXfQjzpP',
            avatar: "mp"
        })
    </script>
</body>
</html>